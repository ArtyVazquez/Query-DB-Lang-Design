See documentation.pdf for more details.